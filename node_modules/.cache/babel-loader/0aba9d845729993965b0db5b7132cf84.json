{"ast":null,"code":"var _jsxFileName = \"/Users/macosx/Projects/HR-Web-Application/Hr-Buffalo-Frontend/src/pages/StaffList.js\";\nimport React from \"react\";\nimport NavBar from \"../components/Staff/NavBar\";\nimport TableSearch from \"../components/Staff/TableSearch\";\nimport TableContent from \"../components/Staff/TableContent\";\nimport TableFooter from \"../components/TableFooter\";\nimport Footer from \"../components/Footer\";\n\nclass StaffList extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.retrieveStaffList = () => {\n      this.props.retrieveStaffWithPositions();\n    };\n\n    this.changeFiltered = data => {\n      this.props.onChangeFiltered(data);\n    };\n\n    this.state = {\n      filteredItems: [],\n      pageOfItems: [],\n      selectedLocation: \"Select Location\",\n      selectedPosition: \"Position Type\",\n      selectedStatus: \"Status\",\n      searchInputValue: \"\"\n    };\n    this.handleReset = this.handleReset.bind(this);\n    this.onChangePage = this.onChangePage.bind(this);\n    this.handleFilter = this.handleFilter.bind(this);\n    this.retrieveStaffList = this.retrieveStaffList.bind(this);\n    this.changeFiltered = this.changeFiltered.bind(this);\n    this.componentDidMount = this.componentDidMount.bind(this);\n  }\n\n  componentDidMount() {\n    this.retrieveStaffList();\n  }\n\n  handleReset(e) {\n    e.preventDefault();\n    this.retrieveStaffList();\n    this.setState({\n      selectedLocation: \"Select Location\"\n    });\n    document.getElementById(\"selectLocation\").value = \"Select Location\";\n    this.setState({\n      selectedPosition: \"Position Type\"\n    });\n    document.getElementById(\"selectPositionType\").value = \"Position Type\";\n    this.setState({\n      selectedStatus: \"Status\"\n    });\n    document.getElementById(\"selectStatus\").value = \"Status\";\n    this.setState({\n      searchInputValue: \"\"\n    });\n    document.getElementById(\"searchInput\").value = \"\";\n  }\n\n  handleFilter(e) {\n    if (e.target.id === \"selectLocation\") {\n      this.setState({\n        selectedLocation: e.target.value\n      });\n    }\n\n    if (e.target.id === \"selectPositionType\") {\n      this.setState({\n        selectedPosition: e.target.value\n      });\n    }\n\n    if (e.target.id === \"selectStatus\") {\n      this.setState({\n        selectedStatus: e.target.value\n      });\n    }\n\n    if (e.target.id === \"searchInput\") {\n      this.setState({\n        searchInputValue: e.target.value\n      });\n    }\n\n    const inputValue = e.currentTarget.value.toString().toLowerCase();\n    const newFilteredItems = this.props.staff.filter(item => {\n      const titleSearch = item.name + item.position.roomNumber + item.contactProfile.cellPhone + item.contactProfile.emailAddress;\n      return e.target.id === \"selectLocation\" ? (item.position.location.name + item.position.roomNumber + \"Select Location\").toLowerCase().includes(inputValue) && (item.position.positionType.name + \"Position Type\").toLowerCase().includes(this.state.selectedPosition.toLowerCase()) && ((item.isActive ? \"Active\" : \"Passive\") + \"Status\").toLowerCase().includes(this.state.selectedStatus.toLowerCase()) && titleSearch.toLowerCase().includes(this.state.searchInputValue.toLowerCase()) : e.target.id === \"selectPositionType\" ? (item.position.positionType.name + \"Position Type\").toLowerCase().includes(inputValue) && (item.position.location.name + item.position.roomNumber + \"Select Location\").toLowerCase().includes(this.state.selectedLocation.toLowerCase()) && ((item.isActive ? \"Active\" : \"Passive\") + \"Status\").toLowerCase().includes(this.state.selectedStatus.toLowerCase()) && titleSearch.toLowerCase().includes(this.state.searchInputValue.toLowerCase()) : e.target.id === \"selectStatus\" ? ((item.isActive ? \"Active\" : \"Passive\") + \"Status\").toLowerCase().includes(inputValue) && (item.position.positionType.name + \"Position Type\").toLowerCase().includes(this.state.selectedPosition.toLowerCase()) && (item.position.location.name + item.position.roomNumber + \"Select Location\").toLowerCase().includes(this.state.selectedLocation.toLowerCase()) && titleSearch.toLowerCase().includes(this.state.searchInputValue.toLowerCase()) : e.target.id === \"searchInput\" ? titleSearch.toLowerCase().includes(inputValue) && ((item.isActive ? \"Active\" : \"Passive\") + \"Status\").toLowerCase().includes(this.state.selectedStatus.toLowerCase()) && (item.position.positionType.name + \"Position Type\").toLowerCase().includes(this.state.selectedPosition.toLowerCase()) && (item.position.location.name + item.position.roomNumber + \"Select Location\").toLowerCase().includes(this.state.selectedLocation.toLowerCase()) : \"\";\n    });\n\n    if (newFilteredItems.length === 0) {\n      // The loop to display breaks when there's no match for the items so we need to do this\n      newFilteredItems.push({\n        name: \"\",\n        id: \"\",\n        email: \"\",\n        password: \"\",\n        position: {\n          role: \"\",\n          title: \"\",\n          roomNumber: \"\",\n          location: {\n            name: \"\"\n          },\n          positionType: {\n            name: \"\"\n          }\n        },\n        isActive: \"\",\n        identity: {\n          imageUrl: \"\"\n        },\n        contactProfile: {\n          cellPhone: \"\",\n          emailAddress: \"\"\n        }\n      });\n    }\n\n    this.setState({\n      filteredItems: newFilteredItems\n    });\n    this.changeFiltered(newFilteredItems);\n  }\n\n  onChangePage(pageOfItems) {\n    // update state with new page of items\n    this.setState({\n      pageOfItems: pageOfItems\n    });\n  }\n\n  render() {\n    let noResultsMessage = this.props.filtered.map((item, index) => {\n      return item.id === \"\" ? /*#__PURE__*/React.createElement(\"div\", {\n        key: index,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 31\n        }\n      }, \"No results found!\") : '';\n    });\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"StaffList\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(NavBar, {\n      retrieveStaffList: this.retrieveStaffList.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"main\", {\n      className: \"container p-0 rounded\",\n      style: {\n        marginTop: \"-75px\",\n        backgroundColor: \"#FFF\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card shadow-sm\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(TableSearch, {\n      handleFilter: this.handleFilter,\n      handleReset: this.handleReset,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(TableContent, {\n      staff: this.state.pageOfItems,\n      retrieveStaffList: this.retrieveStaffList.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(TableFooter, {\n      items: this.props.filtered,\n      onChangePage: this.onChangePage,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 13\n      }\n    }), noResultsMessage)), /*#__PURE__*/React.createElement(Footer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 9\n      }\n    }));\n  }\n\n}\n\nexport default StaffList;","map":{"version":3,"sources":["/Users/macosx/Projects/HR-Web-Application/Hr-Buffalo-Frontend/src/pages/StaffList.js"],"names":["React","NavBar","TableSearch","TableContent","TableFooter","Footer","StaffList","Component","constructor","props","retrieveStaffList","retrieveStaffWithPositions","changeFiltered","data","onChangeFiltered","state","filteredItems","pageOfItems","selectedLocation","selectedPosition","selectedStatus","searchInputValue","handleReset","bind","onChangePage","handleFilter","componentDidMount","e","preventDefault","setState","document","getElementById","value","target","id","inputValue","currentTarget","toString","toLowerCase","newFilteredItems","staff","filter","item","titleSearch","name","position","roomNumber","contactProfile","cellPhone","emailAddress","location","includes","positionType","isActive","length","push","email","password","role","title","identity","imageUrl","render","noResultsMessage","filtered","map","index","marginTop","backgroundColor"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport NavBar from \"../components/Staff/NavBar\";\nimport TableSearch from \"../components/Staff/TableSearch\";\nimport TableContent from \"../components/Staff/TableContent\";\nimport TableFooter from \"../components/TableFooter\";\nimport Footer from \"../components/Footer\";\n\nclass StaffList extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      filteredItems:[],\n      pageOfItems: [],\n      selectedLocation: \"Select Location\",\n      selectedPosition: \"Position Type\",\n      selectedStatus: \"Status\",\n      searchInputValue: \"\"\n    };\n    this.handleReset = this.handleReset.bind(this);\n    this.onChangePage = this.onChangePage.bind(this);\n    this.handleFilter = this.handleFilter.bind(this);\n    this.retrieveStaffList = this.retrieveStaffList.bind(this);\n    this.changeFiltered = this.changeFiltered.bind(this);\n    this.componentDidMount = this.componentDidMount.bind(this);\n  }\n\n  componentDidMount() {\n    this.retrieveStaffList();\n  }\n\n  retrieveStaffList=()=> {\n    this.props.retrieveStaffWithPositions();\n  }\n\n  handleReset(e) {\n    e.preventDefault();\n    this.retrieveStaffList();\n    this.setState({ selectedLocation: \"Select Location\" });\n    document.getElementById(\"selectLocation\").value = \"Select Location\";\n    this.setState({ selectedPosition: \"Position Type\" });\n    document.getElementById(\"selectPositionType\").value = \"Position Type\";\n    this.setState({ selectedStatus: \"Status\" });\n    document.getElementById(\"selectStatus\").value = \"Status\";\n    this.setState({ searchInputValue: \"\" });\n    document.getElementById(\"searchInput\").value = \"\";\n  }\n\n  handleFilter(e) {\n    if (e.target.id === \"selectLocation\") { this.setState({ selectedLocation: e.target.value }) }\n    if (e.target.id === \"selectPositionType\") { this.setState({ selectedPosition: e.target.value }) }\n    if (e.target.id === \"selectStatus\") { this.setState({ selectedStatus: e.target.value }) }\n    if (e.target.id === \"searchInput\") { this.setState({ searchInputValue: e.target.value }) }\n\n    const inputValue = e.currentTarget.value.toString().toLowerCase();\n    const newFilteredItems = this.props.staff.filter(item => {\n      const titleSearch = item.name + item.position.roomNumber + item.contactProfile.cellPhone + item.contactProfile.emailAddress;\n      return e.target.id === \"selectLocation\" ?\n        (item.position.location.name + item.position.roomNumber + \"Select Location\").toLowerCase().includes(inputValue) &&\n        (item.position.positionType.name + \"Position Type\").toLowerCase().includes(this.state.selectedPosition.toLowerCase()) &&\n        ((item.isActive ? \"Active\" : \"Passive\") + \"Status\").toLowerCase().includes(this.state.selectedStatus.toLowerCase()) &&\n        (titleSearch).toLowerCase().includes(this.state.searchInputValue.toLowerCase())\n        : e.target.id === \"selectPositionType\" ?\n          (item.position.positionType.name + \"Position Type\").toLowerCase().includes(inputValue) &&\n          (item.position.location.name + item.position.roomNumber + \"Select Location\").toLowerCase().includes(this.state.selectedLocation.toLowerCase()) &&\n          ((item.isActive ? \"Active\" : \"Passive\") + \"Status\").toLowerCase().includes(this.state.selectedStatus.toLowerCase()) &&\n          (titleSearch).toLowerCase().includes(this.state.searchInputValue.toLowerCase())\n          : e.target.id === \"selectStatus\" ?\n            ((item.isActive ? \"Active\" : \"Passive\") + \"Status\").toLowerCase().includes(inputValue) &&\n            (item.position.positionType.name + \"Position Type\").toLowerCase().includes(this.state.selectedPosition.toLowerCase()) &&\n            (item.position.location.name + item.position.roomNumber + \"Select Location\").toLowerCase().includes(this.state.selectedLocation.toLowerCase()) &&\n            (titleSearch).toLowerCase().includes(this.state.searchInputValue.toLowerCase())\n            : e.target.id === \"searchInput\" ?\n              (titleSearch).toLowerCase().includes(inputValue) &&\n              ((item.isActive ? \"Active\" : \"Passive\") + \"Status\").toLowerCase().includes(this.state.selectedStatus.toLowerCase()) &&\n              (item.position.positionType.name + \"Position Type\").toLowerCase().includes(this.state.selectedPosition.toLowerCase()) &&\n              (item.position.location.name + item.position.roomNumber + \"Select Location\").toLowerCase().includes(this.state.selectedLocation.toLowerCase())\n              : \"\";\n    });\n    if (newFilteredItems.length === 0) { // The loop to display breaks when there's no match for the items so we need to do this\n      newFilteredItems.push({ name:\"\", id: \"\", email: \"\", password: \"\", position : {role: \"\", title:\"\", roomNumber:\"\", location: {name:\"\"}, positionType:{name:\"\"} }, isActive: \"\", identity: { imageUrl: \"\" }, contactProfile:{cellPhone:\"\", emailAddress:\"\"}});\n    }\n    this.setState({ filteredItems: newFilteredItems });\n    this.changeFiltered(newFilteredItems);\n  }\n\n  changeFiltered=(data)=>{\n    this.props.onChangeFiltered(data);\n  }\n\n  onChangePage(pageOfItems) {\n    // update state with new page of items\n    this.setState({ pageOfItems: pageOfItems });\n  }\n\n  render() {\n\n    let noResultsMessage = (this.props.filtered.map((item, index) => {\n      return item.id === \"\" ? <div key={index}>No results found!</div> : ''\n    }));\n    return (\n      <div className=\"StaffList\">\n        <NavBar retrieveStaffList={this.retrieveStaffList.bind(this)}/>\n        <main\n          className=\"container p-0 rounded\"\n          style={{ marginTop: \"-75px\", backgroundColor: \"#FFF\" }}\n        >\n          <div className=\"card shadow-sm\">\n            <TableSearch handleFilter={this.handleFilter} handleReset={this.handleReset} />\n            <TableContent staff={this.state.pageOfItems} retrieveStaffList={this.retrieveStaffList.bind(this)}/>\n            <TableFooter items={this.props.filtered} onChangePage={this.onChangePage} />\n            {noResultsMessage}\n          </div>\n        </main>\n        <Footer />\n      </div>\n    );\n  }\n}\n\nexport default StaffList;\n"]},"metadata":{},"sourceType":"module"}